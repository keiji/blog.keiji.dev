<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.76.5" />

<link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.keiji.dev/categories/tensorflow/index.xml">

<meta name="google-site-verification" content="jLy-Sg3FFmjHr0ri0Rlq0Dd7CNY-Qx-eGpL5wk7gGYs" />
<link rel="canonical" href="https://blog.keiji.dev/categories/tensorflow/">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <title>TensorFlow - めがねをかけるんだ</title>
    
    <link href="https://blog.keiji.dev/css/styles.css" rel="stylesheet">
    
        <link rel="stylesheet" href="https://blog.keiji.dev/css/default.css">
    
        <link rel="stylesheet" href="https://blog.keiji.dev/css/typesquare.css">
    

  </head>

  <body>
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-62351683-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    

    <header class="l-header">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://blog.keiji.dev/">めがねをかけるんだ</a>
          </div>

          
          <div id="navbar" class="collapse navbar-collapse">
            
            <ul class="nav navbar-nav navbar-right">
              
              
              <li><a href="https://blog.keiji.dev/profile/">Profile</a></li>
              
              
            </ul>
            
          </div>
          

        </div>
      </nav>
    </header>

    <main>
      <div class="container">
        
<div class="row">
  <div class="col-md-8">

    
    <header class="page-header">
      <h1>TensorFlow</h1>
    </header>
    

    <ul class="p-articles">
      
        
          <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2016-09-15T07:17:36JST">2016-09-15</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://blog.keiji.dev/post/">post</a></li>
      
    </ul>
    <h2 class="title"><a href="https://blog.keiji.dev/2016/09/about_region_cropper.html">矩形切り出しツール「Region Cropper」を公開しました</a></h2>
  </header>

  
  <div class="summary"><p>時間を見つけてはTensorFlow関係のあれこれをちまちま続けています。</p>
<p>先日は「<a href="https://www.pasonatech.co.jp/skill_up/event/naniwa_tech.jsp">なにわTECH道</a>」で、TensorFlowを使ったイラスト顔検出について発表しました。</p>
<h2 id="データセットの作成">データセットの作成</h2>
<p>これまで、機械学習に使う画像（データセット）の作成にはMacの「プレビュー」を使っていました。</p>
<p>１枚ずつ画像を読み込んでクロッピング（トリミング）していたのですが、１枚の画像に複数の顔があるときや、あとで領域を微調整（特に領域を拡大）したいときが面倒でした。</p>
<p>良さそうなツールがないか、少しばかり探してみたのですが、僕の思い描くような操作性のものがありませんでした。</p>
<p>なければ作れば良い。</p>
<p>そんなわけで、自分で画像の切り出しツールツール「Region Cropper」を開発しました。</p>
<p>１人で使うのももったいないので、GitHubで公開します。</p>
<h2 id="region-cropper">Region Cropper</h2>
<p>GitHub: <a href="https://github.com/keiji/region_cropper">https://github.com/keiji/region_cropper</a></p>
<p><img src="https://blog.keiji.dev/wp-content/uploads/2016/09/set_region.png" alt="set_region" width="2048" height="1580" class="aligncenter size-full wp-image-1383" /></p>
<p>GUIのフレームワークに、使い慣れたSwingではなくJava FXを使いました。</p>
<p>そのため、Java 8のUpdate40以降でしかきちんと動きません。</p>
<p>以下、Region CropperのREADME.mdから。</p></div>

  
  <footer>
    <a href="https://blog.keiji.dev/2016/09/about_region_cropper.html" title="矩形切り出しツール「Region Cropper」を公開しました">Read More…</a>
  </footer>
  
</article>
</li>
        
      
        
          <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2016-07-23T08:59:31JST">2016-07-23</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://blog.keiji.dev/post/">post</a></li>
      
    </ul>
    <h2 class="title"><a href="https://blog.keiji.dev/2016/07/tensorflow_book_ird.html">【続】技術書典に参加したら出版社から販売することになった</a></h2>
  </header>

  
  <div class="summary"><p>先月25日の「<a href="https://techbookfest.github.io/">技術書典</a>」で頒布した「TensorFlowはじめました」は現在、<a href="http://amzn.to/2a0UrR5">Amazonにて予約を受付けています</a>。</p>
<div id="attachment_1351" style="max-width: 1361px" class="wp-caption aligncenter">
  <a href="http://www.amazon.co.jp/gp/product/4802090889/ref=as_li_ss_il?ie=UTF8&#038;camp=247&#038;creative=7399&#038;creativeASIN=4802090889&#038;linkCode=as2&#038;tag=keijiariyama-22"><img src="https://blog.keiji.dev/wp-content/uploads/2016/07/13692115_1158315580886274_420079092_o.jpg" alt="Next Publishing版表紙" width="50%" height="50%" class="aligncenter size-full wp-image-1351" /></a>
  <p class="wp-caption-text">
    有山 圭二 の TensorFlowはじめました　実践！最新Googleマシンラーニング (NextPublishing) を Amazon でチェック！
  </p>
</div>
<table>
<thead>
<tr>
<th style="text-align:left">タイトル</th>
<th style="text-align:left">TensorFlowはじめました 実践！最新Googleマシンラーニング</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">判型</td>
<td style="text-align:left"><del>A5</del> → B5</td>
</tr>
<tr>
<td style="text-align:left">ページ</td>
<td style="text-align:left">64ページ</td>
</tr>
<tr>
<td style="text-align:left">価格</td>
<td style="text-align:left">1,620円（Print On Demand）, 1,080円（電子書籍版）</td>
</tr>
<tr>
<td style="text-align:left">発行</td>
<td style="text-align:left">インプレスR&amp;D</td>
</tr>
</tbody>
</table>
<h3 id="変更点">変更点</h3>
<p>これまでお知らせしていた内容からの大きな変更点に『判型』があります。</p>
<p>前回はA5とお伝えしていたのですが、A5では横幅が足りずプログラムリストが読みにくくなってしまうため、同人誌版と同じB5版に変更しました。</p>
<p>また、Kindleをはじめとする電子書籍（EPUB）版は固定レイアウトではなくリフローでの提供になります。</p>
<p>そのため、お使いになる端末や、設定する文字の大きさによっては読みにくくなる場合がありますのでご注意ください。</p></div>

  
  <footer>
    <a href="https://blog.keiji.dev/2016/07/tensorflow_book_ird.html" title="【続】技術書典に参加したら出版社から販売することになった">Read More…</a>
  </footer>
  
</article>
</li>
        
      
        
          <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2016-07-07T10:00:44JST">2016-07-07</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://blog.keiji.dev/post/">post</a></li>
      
    </ul>
    <h2 class="title"><a href="https://blog.keiji.dev/2016/07/remark_techbookfest.html">技術書典に参加したら出版社から販売することになった</a></h2>
  </header>

  
  <div class="summary"><p>このエントリには続報があります。</p>
<ul>
<li><a href="https://blog.keiji.dev/2016/07/tensorflow_book_ird.html">【続】技術書典に参加したら出版社から販売することになった</a></li>
</ul>
<h2 id="再販情報">再販情報</h2>
<p>技術書典で頒布した「TensorFlowはじめました」について、このたび、インプレスR&amp;D社さんからPOD(Print On Demand)と電子書籍（リフロー）として販売できる運びとなりました。</p>
<p><img class="aligncenter size-full wp-image-1319" src="https://blog.keiji.dev/wp-content/uploads/2016/07/tensorflow_ird.jpg" alt="tensorflow_ird" width="50%" height="50%" /></p>
<table>
<thead>
<tr>
<th style="text-align:left">タイトル</th>
<th style="text-align:left">TensorFlowはじめました 実践！最新Googleマシンラーニング</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">判型</td>
<td style="text-align:left">A5</td>
</tr>
<tr>
<td style="text-align:left">形式</td>
<td style="text-align:left">POD, 電子書籍（リフロー）</td>
</tr>
<tr>
<td style="text-align:left">発行</td>
<td style="text-align:left">インプレスR&amp;D</td>
</tr>
</tbody>
</table>
<p>POD(Print On Demand)または電子書籍での販売になります。一般書店では手に入りませんのでご注意ください。</p>
<p>また、具体的なページ数や販売価格などは現在調整中です。</p>
<p>今月中に予約が開始できるよう進めていますので、続報をお待ちください。</p>
<hr>
<p>以下、6月25日に秋葉原で開催された「<a href="https://techbookfest.github.io/">技術書典</a>」の感想エントリです。</p></div>

  
  <footer>
    <a href="https://blog.keiji.dev/2016/07/remark_techbookfest.html" title="技術書典に参加したら出版社から販売することになった">Read More…</a>
  </footer>
  
</article>
</li>
        
      
        
          <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2016-06-19T13:40:10JST">2016-06-19</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://blog.keiji.dev/post/">post</a></li>
      
    </ul>
    <h2 class="title"><a href="https://blog.keiji.dev/2016/06/techbookfest.html">技術書典でTensorFlowの本を頒布します</a></h2>
  </header>

  
  <div class="summary"><p>このエントリには続報があります。</p>
<ul>
<li><a href="https://blog.keiji.dev/2016/07/remark_techbookfest.html">技術書典に参加したら出版社から販売することになった</a></li>
<li><a href="https://blog.keiji.dev/2016/07/tensorflow_book_ird.html">【続】技術書典に参加したら出版社から販売することになった</a></li>
</ul>
<p>６月25日に秋葉原通運会館にて開催される「<a href="https://techbookfest.org/#A-28" target="_blank">技術書典</a>」に、サークル「めがねをかけるんだ」として参加させていただくことになりました。</p>
<p>「めがねをかけるんだ」では、最近取り組んでいるTensorFlowに関する冊子を頒布いたします。</p>
<p><img src="https://blog.keiji.dev/wp-content/uploads/2016/06/tf-book.png" alt="tf-book" width="50%" height="50%" class="aligncenter size-full wp-image-1281" /></p>
<table>
<thead>
<tr>
<th style="text-align:left">タイトル</th>
<th style="text-align:left">TensorFlowはじめました CIFAR-10奮闘記</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ページ数</td>
<td style="text-align:left">64p（本文墨刷）</td>
</tr>
<tr>
<td style="text-align:left">頒布価格</td>
<td style="text-align:left">1,000円</td>
</tr>
<tr>
<td style="text-align:left">発行</td>
<td style="text-align:left">個人サークル「めがねをかけるんだ」</td>
</tr>
</tbody>
</table></div>

  
  <footer>
    <a href="https://blog.keiji.dev/2016/06/techbookfest.html" title="技術書典でTensorFlowの本を頒布します">Read More…</a>
  </footer>
  
</article>
</li>
        
      
        
          <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2016-05-15T20:15:23JST">2016-05-15</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://blog.keiji.dev/post/">post</a></li>
      
    </ul>
    <h2 class="title"><a href="https://blog.keiji.dev/2016/05/wip_trying_cifar10_exercise.html">【WIP】TensorFlowのExerciseをがんばっている</a></h2>
  </header>

  
  <div class="summary"><p>　僕はいま、<a href="https://events.google.com/io2016/" target="_blank">Google I/O 2016</a>参加で渡米するにあたり、時差ボケ予防のために徹夜でこの記事を書いています。</p>
<h3 id="概要忙しい人向け">概要（忙しい人向け）</h3>
<p>　TensorFlowのチュートリアルにある課題（エクササイズ）に挑戦した。Softmaxの適用については比較的簡単だったが、Fully connected層をLocally connected層に変える課題については難航し、解決していない。</p>
<p>　Locally connected層は、重み共有をしない畳み込み層である（<a href="https://code.google.com/p/cuda-convnet/wiki/LayerParams#Locally-connected_layer_with_unshared_weights" target="_blank">cuda-convnet</a>）。</p>
<p>そこで、チュートリアルのモデルのFully connected層をConvolution層に置き換えたところ、学習が正常に行われなくなった。</p>
<p>　TensorBoardを通じてモデルの状態を確認したところ、conv2層で勾配消失が起きていることがわかった。さらに調査を続けると、conv2層のweightsの初期値がcuda-convnetに記載されている値と異なっており、修正することで正常に学習できるようになった（数値の食い違いが意図的なものかは不明だが、修正を<a href="https://github.com/tensorflow/tensorflow/pull/2374" target="_blank">Pull Request</a>している）。</p>
<p>　「重み共有（Shared weights/Tied weights）」をしないというLocally connectedの条件をTensorFlowでどのように実現するかは現時点でわかっていない。<code>depthwise_conv2d</code>について検討したが、上手くいかないと判断している（出力フィルタの枚数を減らすことができないため）。</p>
<p>　エクササイズについては、今後も調査を続けていく。</p></div>

  
  <footer>
    <a href="https://blog.keiji.dev/2016/05/wip_trying_cifar10_exercise.html" title="【WIP】TensorFlowのExerciseをがんばっている">Read More…</a>
  </footer>
  
</article>
</li>
        
      
        
          <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2016-05-06T09:27:03JST">2016-05-06</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://blog.keiji.dev/post/">post</a></li>
      
    </ul>
    <h2 class="title"><a href="https://blog.keiji.dev/2016/05/cuda_error_no_device.html">TensorFlowでGPUが使えない</a></h2>
  </header>

  
  <div class="summary"><h2 id="あわせて読みたい">あわせて読みたい</h2>
<ul>
<li><a href="http://www.kabuku.co.jp/developers/errors-with-tensorflow-on-gpu">TensorFlow on DockerでGPUを使えるようにする方法 | 株式会社カブク</a></li>
<li><a href="http://www.muo.jp/2016/05/nvidia-docker-tensorflow.html">NVIDIA Dockerで簡単にGPU対応のTensorFlow入りコンテナを作る方法 | muo-notes</a></li>
</ul>
<h2 id="概要">概要</h2>
<p>　GPUマシンでTensorFlowを実行する際、CUDAもcuDNNも正常にセットアップできているのに、TensorFlowがGPUを認識しない（<code>CUDA_ERROR_NO_DEVICE</code>や<code>No GPU devices available on machine.</code>が表示される）場合、正しいディスプレイカード・ドライバがインストールされていない可能性があります。</p>
<p>　筆者の環境では、既存のドライバーをアンインストール（<tt>sudo apt-get remove &ndash;purge nvidia*</tt>）して、<a href="http://www.nvidia.co.jp/Download/index.aspx?lang=jp" target="_blank">NVIDIAのサイト</a>からドライバーをダウンロード・インストールすることでGPUを認識するようになりました。</p></div>

  
  <footer>
    <a href="https://blog.keiji.dev/2016/05/cuda_error_no_device.html" title="TensorFlowでGPUが使えない">Read More…</a>
  </footer>
  
</article>
</li>
        
      
    </ul>

    
<nav>
  <ul class="pager">

    
    <li><a href="https://blog.keiji.dev/categories/tensorflow/">Previous</a></li>
    

    
    <li class="disabled"><a href="#">Next</a></li>
    

  </ul>
</nav>



  </div>
  <div class="col-md-4">
    
<aside class="l-sidebar">

  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">LATESTS</div>
    </div>
    <div class="list-group">
      
        
          <a href="https://blog.keiji.dev/2020/10/androidbook2020.html" class="list-group-item">本当はおそろしい商業出版2020</a>
        
      
        
          <a href="https://blog.keiji.dev/2020/08/mangaview.html" class="list-group-item">漫画ビューアー用カスタムビュー「MangaView」をオープンソースで公開した話</a>
        
      
        
          <a href="https://blog.keiji.dev/2020/01/elegoo-mars_presision.html" class="list-group-item">ELEGOO MARSの出力精度の改善</a>
        
      
        
          <a href="https://blog.keiji.dev/2019/04/techbookfest6.html" class="list-group-item">技術書典6でMLOps本「巡りあえないConcourse」を頒布します</a>
        
      
        
          <a href="https://blog.keiji.dev/2018/12/move_to_gehirn_rs2_plus.html" class="list-group-item">Gehirn RS2 Plusに引っ越しした</a>
        
      
        
      
        
          <a href="https://blog.keiji.dev/2018/12/tensorflow-advent_calendar.html" class="list-group-item">いまNN API（TensorFlow Lite）は使えるのか</a>
        
      
        
          <a href="https://blog.keiji.dev/2018/04/look_back_techbookfest4.html" class="list-group-item">技術書典4に参加してきました</a>
        
      
        
          <a href="https://blog.keiji.dev/2018/04/techbookfest4-2.html" class="list-group-item">技術書典4で「本当はおそろしい商業出版！？」を頒布します</a>
        
      
        
          <a href="https://blog.keiji.dev/2018/04/techbookfest4-1.html" class="list-group-item">技術書典4でML Ops（TensorFlow）の本を頒布します</a>
        
      
    </div>
  </section>

  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">CATEGORY</div>
    </div>
    <div class="list-group">
      
      <a href="https://blog.keiji.dev/categories/%E9%9B%91%E8%A8%98" class="list-group-item">雑記</a>
      
      <a href="https://blog.keiji.dev/categories/android" class="list-group-item">android</a>
      
      <a href="https://blog.keiji.dev/categories/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88" class="list-group-item">イベント</a>
      
      <a href="https://blog.keiji.dev/categories/tensorflow" class="list-group-item">tensorflow</a>
      
      <a href="https://blog.keiji.dev/categories/%E3%83%A1%E3%83%A2" class="list-group-item">メモ</a>
      
      <a href="https://blog.keiji.dev/categories/%E7%BF%92%E4%BD%9C" class="list-group-item">習作</a>
      
      <a href="https://blog.keiji.dev/categories/aosp" class="list-group-item">aosp</a>
      
      <a href="https://blog.keiji.dev/categories/adk" class="list-group-item">adk</a>
      
      <a href="https://blog.keiji.dev/categories/de0" class="list-group-item">de0</a>
      
      <a href="https://blog.keiji.dev/categories/fpga" class="list-group-item">fpga</a>
      
    </div>
  </section>
  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">TAG</div>
    </div>
    <div class="list-group">
      
    </div>
  </section>
  

</aside>

  </div>
</div>

      </div>
    </main>

    <footer class="l-footer">
      <div class="container">
        <p>Keiji ARIYAMA All rights reserved.</p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
          <p>Original <a href="https://github.com/dim0627/hugo_theme_beg">Beg</a> theme is designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>.</p>
        </aside>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" src="//typesquare.com/3/tsst/script/ja/typesquare.js?ZwBLIZTRHGg%3d&fadein=500" charset="utf-8"></script>
  </body>
</html>
